#!/bin/bash
# Copyright (c) 2020 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/

set -e
set -u

GREEN_CHECKBOX="\033[0;32m✔\033[0m"
echo '[38;5;184m [0m[38;5;184m [0m[38;5;184m [0m[38;5;184m [0m[38;5;178m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;209m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;204m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;163m [0m[38;5;163m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;128m [0m[38;5;128m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;99m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;69m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;38m [0m[38;5;38m [0m[38;5;44m [0m'
echo '[38;5;184m [0m[38;5;178m [0m[38;5;214m [0m[38;5;214m [0m[38;5;214mm[0m[38;5;214mm[0m[38;5;214mm[0m[38;5;214mm[0m[38;5;214m [0m[38;5;214m [0m[38;5;214m [0m[38;5;208mm[0m[38;5;208mm[0m[38;5;208mm[0m[38;5;208mm[0m[38;5;208mm[0m[38;5;208mm[0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;209mm[0m[38;5;203mm[0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203mm[0m[38;5;203mm[0m[38;5;203m [0m[38;5;203m [0m[38;5;204m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198mm[0m[38;5;198mm[0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199mm[0m[38;5;199mm[0m[38;5;199m [0m[38;5;163m [0m[38;5;163m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;128m [0m[38;5;128m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129mm[0m[38;5;129mm[0m[38;5;129m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;99m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63mm[0m[38;5;63mm[0m[38;5;63m [0m[38;5;63m [0m[38;5;69m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;38m [0m[38;5;38m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m'
echo '[38;5;214m [0m[38;5;214m [0m[38;5;214m#[0m[38;5;214m#[0m[38;5;214m"[0m[38;5;214m"[0m[38;5;214m"[0m[38;5;214m"[0m[38;5;208m#[0m[38;5;208m [0m[38;5;208m [0m[38;5;208m#[0m[38;5;208m#[0m[38;5;208m"[0m[38;5;208m"[0m[38;5;208m"[0m[38;5;208m"[0m[38;5;209m#[0m[38;5;203m#[0m[38;5;203m [0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m#[0m[38;5;204m#[0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;199m [0m[38;5;199m#[0m[38;5;199m#[0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;163m#[0m[38;5;163m#[0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;128m [0m[38;5;128m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;93m#[0m[38;5;93m#[0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;99m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m#[0m[38;5;69m#[0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;38m [0m[38;5;38m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m'
echo '[38;5;214m [0m[38;5;214m#[0m[38;5;214m#[0m[38;5;214m"[0m[38;5;214m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m#[0m[38;5;208m#[0m[38;5;208m [0m[38;5;209m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m [0m[38;5;203m"[0m[38;5;203m#[0m[38;5;203mm[0m[38;5;203m [0m[38;5;203m#[0m[38;5;203m#[0m[38;5;204m [0m[38;5;198mm[0m[38;5;198m#[0m[38;5;198m"[0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m"[0m[38;5;199m#[0m[38;5;199mm[0m[38;5;199m [0m[38;5;199m#[0m[38;5;163m#[0m[38;5;163m [0m[38;5;164mm[0m[38;5;164m#[0m[38;5;164m"[0m[38;5;164m [0m[38;5;164m [0m[38;5;164mm[0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m#[0m[38;5;128mm[0m[38;5;128m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m#[0m[38;5;129m#[0m[38;5;129mm[0m[38;5;129m#[0m[38;5;129m#[0m[38;5;129m#[0m[38;5;93m#[0m[38;5;93m [0m[38;5;93m [0m[38;5;93m#[0m[38;5;93m#[0m[38;5;93m [0m[38;5;93mm[0m[38;5;93m#[0m[38;5;93m#[0m[38;5;99m"[0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63mm[0m[38;5;63mm[0m[38;5;63m#[0m[38;5;63m#[0m[38;5;63m#[0m[38;5;63m#[0m[38;5;63m#[0m[38;5;63mm[0m[38;5;69m [0m[38;5;33m [0m[38;5;33m#[0m[38;5;33m#[0m[38;5;33mm[0m[38;5;33m#[0m[38;5;33m#[0m[38;5;33m#[0m[38;5;33m#[0m[38;5;33mm[0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39mm[0m[38;5;39m#[0m[38;5;39m#[0m[38;5;39m#[0m[38;5;39m#[0m[38;5;39mm[0m[38;5;38m [0m[38;5;38m [0m[38;5;44m [0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44mm[0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44mm[0m[38;5;44m [0m[38;5;44m [0m'
echo '[38;5;214m [0m[38;5;214m#[0m[38;5;208m#[0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;209m#[0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m#[0m[38;5;203m#[0m[38;5;204m [0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m [0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m#[0m[38;5;163m#[0m[38;5;163m [0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m [0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m [0m[38;5;164m [0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m"[0m[38;5;128m [0m[38;5;128m [0m[38;5;129m"[0m[38;5;129m#[0m[38;5;129m#[0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m#[0m[38;5;129m#[0m[38;5;129m"[0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m#[0m[38;5;93m#[0m[38;5;93mm[0m[38;5;99m#[0m[38;5;63m#[0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m#[0m[38;5;63m#[0m[38;5;63mm[0m[38;5;63mm[0m[38;5;63mm[0m[38;5;69mm[0m[38;5;33m [0m[38;5;33m"[0m[38;5;33m [0m[38;5;33m [0m[38;5;33m#[0m[38;5;33m#[0m[38;5;33m"[0m[38;5;33m [0m[38;5;33m [0m[38;5;39m [0m[38;5;39m#[0m[38;5;39m#[0m[38;5;39m [0m[38;5;39m [0m[38;5;39m#[0m[38;5;39m#[0m[38;5;39m"[0m[38;5;39m [0m[38;5;38m [0m[38;5;38m"[0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44m [0m[38;5;44m [0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44m"[0m[38;5;44m [0m[38;5;44m [0m[38;5;44m"[0m[38;5;43m#[0m[38;5;49m#[0m[38;5;49m [0m'
echo '[38;5;208m [0m[38;5;208m#[0m[38;5;208m#[0m[38;5;208mm[0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;208m [0m[38;5;209m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m [0m[38;5;203m [0m[38;5;203m"[0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203mm[0m[38;5;203m [0m[38;5;204m [0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m"[0m[38;5;198m"[0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;163m [0m[38;5;163m [0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m"[0m[38;5;164m"[0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m [0m[38;5;164m [0m[38;5;128m#[0m[38;5;128m#[0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m#[0m[38;5;129m#[0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;93m#[0m[38;5;93m#[0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;99m#[0m[38;5;63m#[0m[38;5;63m"[0m[38;5;63m#[0m[38;5;63m#[0m[38;5;63mm[0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m"[0m[38;5;69m"[0m[38;5;33m"[0m[38;5;33m"[0m[38;5;33m#[0m[38;5;33m#[0m[38;5;33mm[0m[38;5;33m [0m[38;5;33m [0m[38;5;33m#[0m[38;5;33m#[0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m#[0m[38;5;39m#[0m[38;5;39m [0m[38;5;39m [0m[38;5;39m#[0m[38;5;38m#[0m[38;5;38m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44m [0m[38;5;44m [0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44m [0m[38;5;43m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m#[0m[38;5;49m#[0m[38;5;49m [0m'
echo '[38;5;208m [0m[38;5;208m [0m[38;5;208m#[0m[38;5;208m#[0m[38;5;208mm[0m[38;5;209mm[0m[38;5;203mm[0m[38;5;203mm[0m[38;5;203m#[0m[38;5;203m [0m[38;5;203m [0m[38;5;203m#[0m[38;5;203m#[0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;204m#[0m[38;5;198m#[0m[38;5;198m [0m[38;5;198m [0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m#[0m[38;5;198m [0m[38;5;198m [0m[38;5;198m#[0m[38;5;199m#[0m[38;5;199m#[0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;163m [0m[38;5;163m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m#[0m[38;5;164m [0m[38;5;164m [0m[38;5;164m#[0m[38;5;164m#[0m[38;5;128m#[0m[38;5;128m [0m[38;5;129m [0m[38;5;129m"[0m[38;5;129m#[0m[38;5;129m#[0m[38;5;129mm[0m[38;5;129mm[0m[38;5;129m#[0m[38;5;129m#[0m[38;5;129m"[0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m#[0m[38;5;93m#[0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;99m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m#[0m[38;5;63m#[0m[38;5;63m [0m[38;5;63m [0m[38;5;63m"[0m[38;5;63m#[0m[38;5;63mm[0m[38;5;63m [0m[38;5;63m [0m[38;5;69m [0m[38;5;33m#[0m[38;5;33mm[0m[38;5;33mm[0m[38;5;33mm[0m[38;5;33mm[0m[38;5;33mm[0m[38;5;33m#[0m[38;5;33m#[0m[38;5;33m [0m[38;5;39m [0m[38;5;39m#[0m[38;5;39m#[0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m#[0m[38;5;39m#[0m[38;5;38m [0m[38;5;38m [0m[38;5;44m"[0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44mm[0m[38;5;44mm[0m[38;5;44m#[0m[38;5;44m#[0m[38;5;44m"[0m[38;5;44m [0m[38;5;44m [0m[38;5;43m#[0m[38;5;49m#[0m[38;5;49m#[0m[38;5;49mm[0m[38;5;49mm[0m[38;5;49m#[0m[38;5;49m#[0m[38;5;49m"[0m[38;5;49m [0m'
echo '[38;5;208m [0m[38;5;208m [0m[38;5;209m [0m[38;5;203m [0m[38;5;203m"[0m[38;5;203m"[0m[38;5;203m"[0m[38;5;203m"[0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m"[0m[38;5;203m"[0m[38;5;203m [0m[38;5;204m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m"[0m[38;5;198m"[0m[38;5;198m"[0m[38;5;198m [0m[38;5;198m"[0m[38;5;198m"[0m[38;5;198m"[0m[38;5;199m [0m[38;5;199m [0m[38;5;199m"[0m[38;5;199m"[0m[38;5;199m"[0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;163m [0m[38;5;163m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m"[0m[38;5;164m"[0m[38;5;164m"[0m[38;5;164m [0m[38;5;128m [0m[38;5;128m"[0m[38;5;129m"[0m[38;5;129m"[0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m"[0m[38;5;129m"[0m[38;5;129m"[0m[38;5;93m"[0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m"[0m[38;5;93m"[0m[38;5;93m [0m[38;5;99m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m"[0m[38;5;63m"[0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m"[0m[38;5;69m"[0m[38;5;33m"[0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m"[0m[38;5;33m"[0m[38;5;33m"[0m[38;5;33m"[0m[38;5;33m"[0m[38;5;39m"[0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m"[0m[38;5;39m"[0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;38m [0m[38;5;38m"[0m[38;5;44m"[0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m"[0m[38;5;44m"[0m[38;5;44m"[0m[38;5;44m"[0m[38;5;44m [0m[38;5;43m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m#[0m[38;5;49m#[0m[38;5;49m [0m[38;5;49m"[0m[38;5;49m"[0m[38;5;49m"[0m[38;5;49m [0m[38;5;49m [0m[38;5;48m [0m'
echo '[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;204m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;163m [0m[38;5;163m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;128m [0m[38;5;128m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;99m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;69m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;38m [0m[38;5;38m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;43m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m#[0m[38;5;49m#[0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;48m [0m[38;5;48m [0m[38;5;48m [0m[38;5;48m [0m'
echo '[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;203m [0m[38;5;204m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;198m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;199m [0m[38;5;163m [0m[38;5;163m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;164m [0m[38;5;128m [0m[38;5;128m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;129m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;93m [0m[38;5;99m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;63m [0m[38;5;69m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;33m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;39m [0m[38;5;38m [0m[38;5;38m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;44m [0m[38;5;43m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;49m [0m[38;5;48m [0m[38;5;48m [0m[38;5;48m [0m[38;5;48m [0m[38;5;48m [0m[38;5;48m [0m[38;5;48m [0m'

# Check requirements
printf "🔍 Checking requirements..."
command -v helm >/dev/null 2>&1 || { printf "❌️\n \e[1;31m🚒 --> helm tool is required and is not installed. Aborting.\e[0m\n"; exit 1; }
printf "${GREEN_CHECKBOX}%s\n" ""

printf "⚙️  Updating CPU limit..."
oc patch template --namespace openshift-config project-request --type='json' -p="$(cat patches/update-cpu-limit.yaml)"  > /dev/null  && printf "${GREEN_CHECKBOX}%s\n" "" || printf "%s${GREEN_CHECKBOX}\n" "-->  No project request configured "

printf "⚙️  Updating Service Catalog API Server and Controller Manager..."
oc patch servicecatalogapiservers cluster --type='json' -p="$(cat patches/update-service-catalog.yaml)"  > /dev/null
oc patch servicecatalogcontrollermanagers cluster --type='json' -p="$(cat patches/update-service-catalog.yaml)"  > /dev/null
printf "${GREEN_CHECKBOX}%s\n" ""


# Install operator with helm / also creates namespace
[ -f helm.log ] && rm helm.log
printf "🛠  Installing CodeReady Workspaces and Service Catalog..."
if ! helm install crw-workshop ./crw-workshop > helm.log 2>&1; then
   printf "❌️\n" 
   cat helm.log
   printf "\e[1;31m🚒 --> Error while installing helm. Aborting.\e[0m\n"; exit 1;   
fi

echo ""
# Wait for CodeReady Workspaces being alive
PREVIOUS_LOG_LINE=""
while [[ $(oc get pods --all-namespaces --selector="app=codeready,component=codeready" -o 'jsonpath={..status.conditions[?(@.type=="Ready")].status}') != "True" ]]; do

   # Display wait message until codeready workspaces is available
   EXIST=$(oc get pods --all-namespaces --selector="app=codeready-operator" -o=jsonpath='{.items}')
   if [ "${EXIST}" == "[]" ]; then
     LOG_LINE="⌛️ Waiting for CodeReady Workspaces Operator to boot..."
     if [ "${LOG_LINE}" != "${PREVIOUS_LOG_LINE}" ]; then
       printf "\33[2K\r%s" "${LOG_LINE}"
       PREVIOUS_LOG_LINE=${LOG_LINE}
     fi
   else
     # Display last line of log during wait
     POD_NAME=$(oc get pods --all-namespaces --selector="app=codeready-operator" -o=jsonpath='{.items[0].metadata.name}')
     POD_NAMESPACE=$(oc get pods --all-namespaces --selector="app=codeready-operator" -o=jsonpath='{.items[0].metadata.namespace}')
     WIDTH=$(($(tput cols) - 10))
     LOG_LINE=$(oc logs --tail=1 -n "${POD_NAMESPACE}" "${POD_NAME}"  2>/dev/null | sed -n 's/.*msg=\"\(.*\)\".*/\1/p' | cut -c-$WIDTH)
     if [ "${LOG_LINE}" != "${PREVIOUS_LOG_LINE}" ]; then
       printf "\33[2K\r⌛️ %s..." "${LOG_LINE}"
       PREVIOUS_LOG_LINE=${LOG_LINE}
     fi
   fi
   sleep 0.5;
done

POD_NAMESPACE=$(oc get pods --all-namespaces --selector="app=codeready-operator" -o=jsonpath='{.items[0].metadata.namespace}')
CODEREADY_WORKSPACE_LINK="$(oc get CheClusters/codeready-workspaces -n ${POD_NAMESPACE} -o 'jsonpath={..cheURL}')"
printf "\33[2K\r🎉 CodeReady Workspaces available at: %s\n" "${CODEREADY_WORKSPACE_LINK}"

WORKSHOP_WORKSPACE_LINK="${CODEREADY_WORKSPACE_LINK}/f/?url=https://github.com/redhat-developer-demos/quarkus-reactjs-postit-app"
printf "🧪 Devfile workspace: %s\n" "${WORKSHOP_WORKSPACE_LINK}"
